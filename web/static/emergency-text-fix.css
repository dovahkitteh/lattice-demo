/* ==========================================================================
   EMERGENCY TEXT VISIBILITY FIX
   High-priority rules to force text visibility in all panels
   ========================================================================== */

/* Force all text in panels to be visible with proper hierarchy */
.panel,
.panel div,
.panel span:not(.metric-value):not(.emotion-value):not(.dimension-value),
.panel p,
#currentMoodContent,
#currentMoodContent div,
#currentMoodContent span:not(.metric-value):not(.emotion-value),
#emotionalStateContent,
#emotionalStateContent div,
#emotionalStateContent span:not(.metric-value):not(.emotion-value),
#userAnalysisContent,
#userAnalysisContent div,
#userAnalysisContent span:not(.metric-value):not(.emotion-value),
#daemonThoughtsContent,
#daemonThoughtsContent div,
#daemonThoughtsContent span:not(.metric-value):not(.emotion-value),
#activeSeedsContent,
#activeSeedsContent div,
#activeSeedsContent span:not(.metric-value):not(.emotion-value),
#distortionContent,
#distortionContent div,
#distortionContent span:not(.metric-value):not(.emotion-value),
#emotionalMetricsContent,
#emotionalMetricsContent div,
#emotionalMetricsContent span:not(.metric-value):not(.emotion-value),
#recentMemoriesContent,
#recentMemoriesContent div,
#recentMemoriesContent span:not(.metric-value):not(.emotion-value),
#turnDebugContent,
#turnDebugContent div,
#turnDebugContent span:not(.metric-value):not(.emotion-value) {
    color: #F5F5F5 !important;
    font-size: inherit !important;
    line-height: 1.6 !important;
}

/* Specific styling for different text hierarchy */
.panel h5,
.panel h4,
.panel h6,
#currentMoodContent h5,
#currentMoodContent h4,
#currentMoodContent h6,
#emotionalStateContent h5,
#emotionalStateContent h4,
#emotionalStateContent h6,
#userAnalysisContent h5,
#userAnalysisContent h4,
#userAnalysisContent h6,
#daemonThoughtsContent h5,
#daemonThoughtsContent h4,
#daemonThoughtsContent h6,
#activeSeedsContent h5,
#activeSeedsContent h4,
#activeSeedsContent h6,
#distortionContent h5,
#distortionContent h4,
#distortionContent h6 {
    color: #8B0000 !important;
    font-weight: 600 !important;
    margin-bottom: 8px !important;
    font-size: 0.9rem !important;
    font-family: 'Cinzel', serif !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    text-shadow: 0 0 8px rgba(139, 0, 0, 0.6) !important;
}

/* TARGETED styling for specific header elements only */
.seed-title,
.seed-category,
.distortion-class,
.mood-name,
.current-mood-name {
    color: #8B0000 !important;
    font-weight: 600 !important;
    font-size: 0.85rem !important;
    font-family: 'Cinzel', serif !important;
    text-transform: capitalize !important;
    letter-spacing: 0.5px !important;
    text-shadow: 0 0 6px rgba(139, 0, 0, 0.5) !important;
    margin-bottom: 6px !important;
}

/* Values and metrics should be accent colored */
.emotion-value,
.dimension-value,
.metric-value,
.seed-strength {
    color: #8B0000 !important;
    font-weight: 600 !important;
}

/* Labels should be secondary color */
.emotion-name,
.dimension-name,
.metric-label,
.seed-type {
    color: #B8B8B8 !important;
    font-weight: 500 !important;
}

/* Ensure regular descriptive text stays white */
.panel .description,
.panel .details,
.panel .content,
.panel .explanation,
.seed-description,
.theory-details,
.thought-details,
.narrative-belief,
.system-explanation {
    color: #F5F5F5 !important;
    font-weight: 400 !important;
}

/* Loading states should be muted but visible */
.loading-state,
.empty-state,
.error-state {
    color: #5A5A5A !important;
    font-style: italic !important;
    text-align: center !important;
}

/* Ensure background contrast */
.emotion-item,
.state-metric,
.dimension-item,
.seed-item,
.theory-item,
.thought-item,
.memory-item-compact {
    background: rgba(45, 45, 45, 0.6) !important;
    border: 1px solid rgba(139, 0, 0, 0.3) !important;
    border-radius: 4px !important;
    padding: 8px !important;
    margin-bottom: 6px !important;
}

/* Force panel content backgrounds */
#currentMoodContent,
#emotionalStateContent,
#userAnalysisContent,
#daemonThoughtsContent,
#activeSeedsContent,
#distortionContent,
#emotionalMetricsContent,
#recentMemoriesContent,
#turnDebugContent {
    background: transparent !important;
    color: #F5F5F5 !important;
}

/* Remove any conflicting styles */
.panel * {
    background: none !important;
}

/* Ensure proper spacing and readability */
.panel div {
    margin-bottom: 6px !important;
}

/* Fix any inline styles that might be overriding */
[style*="color"] {
    color: #F5F5F5 !important;
}

/* Panel headers should always be visible */
.panel h3 {
    color: #8B0000 !important;
    font-family: 'Cinzel', serif !important;
    font-weight: 600 !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    border-bottom: 1px solid #2D2D2D !important;
    padding-bottom: 8px !important;
    margin-bottom: 15px !important;
    text-shadow: 0 0 8px rgba(139, 0, 0, 0.6) !important;
}

/* Enhanced Gothic Atmosphere */
.panel {
    background: linear-gradient(135deg, rgba(28, 28, 28, 0.95), rgba(45, 45, 45, 0.8)) !important;
    border: 1px solid rgba(139, 0, 0, 0.4) !important;
    box-shadow: 
        0 4px 12px rgba(0, 0, 0, 0.6),
        0 0 20px rgba(139, 0, 0, 0.2),
        inset 0 1px 0 rgba(139, 0, 0, 0.1) !important;
}

.panel:hover {
    box-shadow: 
        0 6px 20px rgba(0, 0, 0, 0.8),
        0 0 30px rgba(139, 0, 0, 0.4),
        0 0 50px rgba(139, 0, 0, 0.2),
        inset 0 1px 0 rgba(139, 0, 0, 0.2) !important;
    transform: translateY(-2px) !important;
}

/* Enhance metric cards with gothic flair */
.status-metric,
.emotion-item,
.state-metric,
.dimension-item,
.seed-item,
.memory-item-compact {
    background: linear-gradient(135deg, rgba(45, 45, 45, 0.8), rgba(60, 60, 60, 0.4)) !important;
    border: 1px solid rgba(139, 0, 0, 0.3) !important;
    box-shadow: 
        0 2px 8px rgba(0, 0, 0, 0.4),
        inset 0 1px 0 rgba(139, 0, 0, 0.1) !important;
    transition: all 0.3s ease !important;
}

.status-metric:hover,
.emotion-item:hover,
.state-metric:hover,
.dimension-item:hover,
.seed-item:hover,
.memory-item-compact:hover {
    background: linear-gradient(135deg, rgba(75, 14, 14, 0.6), rgba(45, 45, 45, 0.8)) !important;
    border-color: rgba(139, 0, 0, 0.6) !important;
    box-shadow: 
        0 4px 12px rgba(0, 0, 0, 0.6),
        0 0 15px rgba(139, 0, 0, 0.3),
        inset 0 1px 0 rgba(139, 0, 0, 0.2) !important;
    transform: translateY(-1px) !important;
}

/* Blood-red accents for values */
.metric-value,
.emotion-value,
.dimension-value {
    color: #DC143C !important;
    text-shadow: 0 0 6px rgba(220, 20, 60, 0.5) !important;
}

/* Gothic glow for interactive elements */
.session-item:hover,
.chat-input-wrapper:focus-within,
button:hover {
    box-shadow: 0 0 15px rgba(139, 0, 0, 0.5) !important;
}

/* Enhanced scrollbars */
::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, #8B0000, #DC143C) !important;
    box-shadow: inset 0 0 4px rgba(139, 0, 0, 0.5) !important;
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, #DC143C, #FF1493) !important;
    box-shadow: 
        inset 0 0 4px rgba(139, 0, 0, 0.8),
        0 0 8px rgba(220, 20, 60, 0.4) !important;
}

/* Atmospheric background for content areas */
#currentMoodContent,
#emotionalStateContent,
#userAnalysisContent,
#daemonThoughtsContent,
#activeSeedsContent,
#distortionContent {
    background: radial-gradient(ellipse at center, rgba(28, 28, 28, 0.1), rgba(10, 10, 10, 0.8)) !important;
    border-radius: 6px !important;
    padding: 16px !important;
}